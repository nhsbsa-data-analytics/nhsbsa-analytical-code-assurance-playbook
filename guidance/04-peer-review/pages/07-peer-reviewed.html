<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-GB" xml:lang="en-GB"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Peer review is essential for quality code, and helps ensure transparency and reproducibility.">

<title>Analytical Code Assurance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<link href="../../../static/bsa-favicon.png" rel="icon" type="image/png">
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-2d42b221d4a3bf25ead76833855245a2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <div id="quarto-announcement" data-announcement-id="3ba91ba772a959eb82aaf840c71796ea" class="alert alert-warning hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Pre-Release</strong>: This is a new website under development. <a href="https://github.com/nhsbsa-data-analytics/nhsbsa-analytical-code-assurance-playbook/blob/main/CONTRIBUTE.md">Click here</a> to find out how you can submit feedback, suggest improvements and get involved!</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
    <nav class="navbar navbar-expand " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://www.nhsbsa.nhs.uk/" class="navbar-brand navbar-brand-logo">
    <img src="../../../static/NHSBSA logo.png" alt="NHS Business Services Authority" class="navbar-logo light-content">
    <img src="../../../static/NHSBSA logo.png" alt="NHS Business Services Authority" class="navbar-logo dark-content">
    </a>
  </div>
          <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../../index.html" aria-current="page"> 
<span class="menu-text">Playbook Home Page</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-guidance" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Guidance</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-guidance">    
        <li>
    <a class="dropdown-item" href="../../../guidance/01-design/index.html">
 <span class="dropdown-text">Design</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../guidance/02-develop/index.html">
 <span class="dropdown-text">Develop</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../guidance/03-document/index.html">
 <span class="dropdown-text">Document</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../guidance/04-peer-review/index.html">
 <span class="dropdown-text">Peer review</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../guidance/05-open-source/index.html">
 <span class="dropdown-text">Open source</span></a>
  </li>  
    </ul>
  </li>
</ul>
          <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text"><iconify-icon role="img" inline="" icon="mdi:information-outline" style="font-size: 1.5em;" aria-label="Icon information-outline from mdi Iconify.design set." title="Icon information-outline from mdi Iconify.design set."></iconify-icon> About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.nhsbsa.nhs.uk/nhsbsa-statistics-and-data-science"> 
<span class="menu-text"><iconify-icon role="img" inline="" icon="mdi:house-outline" style="font-size: 1.5em;" aria-label="Icon house-outline from mdi Iconify.design set." title="Icon house-outline from mdi Iconify.design set."></iconify-icon> NHSBSA Data Science Home Page</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/nhsbsa-data-analytics/nhsbsa-analytical-code-assurance-playbook"> 
<span class="menu-text"><iconify-icon role="img" inline="" icon="mdi:github" style="font-size: 1.5em;" aria-label="Icon github from mdi Iconify.design set." title="Icon github from mdi Iconify.design set."></iconify-icon> GitHub</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://twitter.com/nhsbsa"> 
<span class="menu-text"><iconify-icon role="img" inline="" icon="mdi:twitter" style="font-size: 1.5em;" aria-label="Icon twitter from mdi Iconify.design set." title="Icon twitter from mdi Iconify.design set."></iconify-icon> X (formerly Twitter)</span></a>
  </li>  
</ul>
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">Peer-reviewed</h1>
        </a>     
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">Peer-reviewed</h1>
                  <div>
        <div class="description">
          Peer review is essential for quality code, and helps ensure transparency and reproducibility.
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta column-body">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../../index.html" class="sidebar-logo-link">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../guidance/01-design/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/01-design/pages/01-modular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modular</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../guidance/02-develop/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Develop</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/02-develop/pages/02-readable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Readable</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/02-develop/pages/03-version-controlled.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Version Controlled</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/02-develop/pages/04-tested.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tested</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../guidance/03-document/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Document</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/03-document/pages/05-documented.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Documented</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/03-document/pages/06-decisions-logged.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decisions Logged</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../guidance/04-peer-review/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Peer review</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/04-peer-review/pages/07-peer-reviewed.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Peer-reviewed</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../guidance/05-open-source/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Open source</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../guidance/05-open-source/pages/08-open-source.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Open Source</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-peer-review" id="toc-what-is-peer-review" class="nav-link active" data-scroll-target="#what-is-peer-review">What is peer review?</a></li>
  <li><a href="#why-should-code-be-peer-reviewed" id="toc-why-should-code-be-peer-reviewed" class="nav-link" data-scroll-target="#why-should-code-be-peer-reviewed">Why should code be peer reviewed?</a>
  <ul class="collapse">
  <li><a href="#alignment-with-analytical-code-key-principles" id="toc-alignment-with-analytical-code-key-principles" class="nav-link" data-scroll-target="#alignment-with-analytical-code-key-principles">Alignment with analytical code key principles</a></li>
  </ul></li>
  <li><a href="#how-do-we-do-it-then" id="toc-how-do-we-do-it-then" class="nav-link" data-scroll-target="#how-do-we-do-it-then">How do we do it then?</a></li>
  <li><a href="#pair-programming" id="toc-pair-programming" class="nav-link" data-scroll-target="#pair-programming">Pair programming</a>
  <ul class="collapse">
  <li><a href="#rotate-roles-often" id="toc-rotate-roles-often" class="nav-link" data-scroll-target="#rotate-roles-often">Rotate roles often</a></li>
  <li><a href="#document-large-decisions" id="toc-document-large-decisions" class="nav-link" data-scroll-target="#document-large-decisions">Document large decisions</a></li>
  <li><a href="#be-vocal-and-ask-questions" id="toc-be-vocal-and-ask-questions" class="nav-link" data-scroll-target="#be-vocal-and-ask-questions">Be vocal and ask questions</a></li>
  </ul></li>
  <li><a href="#how-do-we-define-success" id="toc-how-do-we-define-success" class="nav-link" data-scroll-target="#how-do-we-define-success">How do we define success?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-body" id="quarto-document-content">
<script>
  // Create skiplink
  var a = document.createElement('a');
  var linkText = document.createTextNode("Skip to main content");
  a.appendChild(linkText);
  a.classList.add("skip");
  a.href = "#quarto-content";
  document.body.insertBefore(a, document.body.firstChild);
</script>





<blockquote class="blockquote">
<h3 id="pre-requisite-reading" class="anchored">Pre-requisite reading</h3>
<ul>
<li><a href="https://best-practice-and-impact.github.io/qa-of-code-guidance/peer_review.html">AF Duck Book: Peer review</a></li>
<li><a href="https://nhsbsa.github.io/nhsbsa-digital-playbook/development/coding/">NHSBSA DDaT Playbook: Development - Peer Review</a></li>
</ul>
</blockquote>
<section id="what-is-peer-review" class="level2">
<h2 class="anchored" data-anchor-id="what-is-peer-review">What is peer review?</h2>
<p>Peer review is a process where a colleague provides constructive feedback aimed at improving the quality, validity, and maintainability of code or workflows before they are finalised and used to produce output.</p>
</section>
<section id="why-should-code-be-peer-reviewed" class="level2">
<h2 class="anchored" data-anchor-id="why-should-code-be-peer-reviewed">Why should code be peer reviewed?</h2>
<ul>
<li><strong>Improving quality of code</strong>: As part of the peer review process code will be reviewed to ensure that it is readable and understandable.</li>
<li><strong>Consistency</strong>: Promotes consistency by ensuring adherence to team standards and style guides.</li>
<li><strong>Alternative Perspectives</strong>: Provides alternative perspectives that might lead to simpler or more robust solutions.</li>
<li><strong>Sharing knowledge</strong>: Review code can improve the knowledge of both the original code author and the reviewer.</li>
<li><strong>Optimising code performance</strong>: As part of the review process, different approaches may be found that could improve the code.</li>
<li><strong>Find potential mistakes in the code</strong>: Although peer review is not a replacement for testing, it can find potential bugs or issues in the code.</li>
</ul>
<section id="alignment-with-analytical-code-key-principles" class="level3">
<h3 class="anchored" data-anchor-id="alignment-with-analytical-code-key-principles">Alignment with analytical code key principles</h3>
<ul>
<li><strong>Transparent:</strong> Questions that do not have obvious answers already arise, which can then be addressed.</li>
<li><strong>Reproducible:</strong> A good peer review will include running all code and data preparation.</li>
<li><strong>Quality assured:</strong> In addition to catching issues that when addressed will improve quality, builds trust that the code and project has been checked.</li>
</ul>
</section>
</section>
<section id="how-do-we-do-it-then" class="level2">
<h2 class="anchored" data-anchor-id="how-do-we-do-it-then">How do we do it then?</h2>
<p>When using version control tools such as Git, peer review should be part of the branching and pull request process (see <a href="https://nhsbsa.github.io/nhsbsa-digital-playbook/development/coding/">DDaT Playbook</a>). Ideally a pull request should not be merged without the code being reviewed by another person. In analytical projects, code reviews are often (although not always) the responsibilities of the <a href="https://nhsbsa-data-analytics.github.io/nhsbsa-quality-analysis-playbook/guidance/03-responsibilities/pages/11-critical-friend.html">Critical Friend</a>.</p>
<p>Using version control tools the basic steps for a peer review are: <!-- DRAFT NOTE: do we need more details or is this repeating DDaT playbook --></p>
<ol type="1">
<li>Code author submits merge request for branch used to develop code.</li>
<li>Reviewer reviews the code and adds comments for any potential issues, including whether:
<ul>
<li>the code is readable and understandable</li>
<li>the code is tested, and does what it is designed for</li>
<li>other approaches may have been better</li>
</ul></li>
<li>Author reviews comments and amends code as needed.
<ul>
<li>Comments can and should be challenged if there is any disagreement to agree a resolution between the author and reviewer.</li>
</ul></li>
<li>Reviewer approves amended code checking all issues have been resolved.</li>
<li>Branch merged by author.</li>
</ol>
<p><strong>Code Author</strong></p>
<ul>
<li><strong>Do</strong> submit code for review in manageable and related chunks.</li>
<li><strong>Do</strong> ensure your code runs correctly and passes relevant tests before before a review.</li>
<li><strong>Do</strong> provide context and additional explanation when required.</li>
<li><strong>Do</strong> carefully consider all reviewer feedback; discuss comments you disagree with or are unsure of to reach an understanding.</li>
<li><strong>Do</strong> document changes made and decisions taken based on the review feedback.</li>
<li><strong>Don’t</strong> bypass or rush the review process just to merge code faster.</li>
<li><strong>Don’t</strong> submit unrelated changes together.</li>
<li><strong>Don’t</strong> blindly accept and implement all reviewer comments.</li>
</ul>
<p><strong>Reviewer</strong></p>
<ul>
<li><strong>Do</strong> thoroughly review the code, understanding its purpose and verifying it does what is expected.</li>
<li><strong>Do</strong> provide clear, constructive, and actionable feedback; explain the <em>why</em> of your suggestions.</li>
<li><strong>Do</strong> document identified issues, potential improvements, or questions clearly.</li>
<li><strong>Don’t</strong> Simply glance over the code and approve it without scrutiny.</li>
<li><strong>Don’t</strong> Delay reviews unnecessarily, blocking the author’s progress.</li>
<li><strong>Don’t</strong> Be overly critical or personal in your feedback.</li>
</ul>
<p>Whenever feasible, analytical code and low-or-no-code artifacts should be version controlled. Version control tools facilitate <a href="https://nhsbsa.github.io/nhsbsa-digital-playbook/development/coding-peer-review/">peer-review</a>, among <a href="../../../guidance/02-develop/pages/03-version-controlled.html">other benefits</a>.</p>
<p>However, even where version control tools are not used, peer review should still be done, including recording of any feedback and amendments requested during the review process.</p>
</section>
<section id="pair-programming" class="level2">
<h2 class="anchored" data-anchor-id="pair-programming">Pair programming</h2>
<p>Instead of having the code writing and peer review as two distinct phases, pair programming combines these into a single step with two or more people actively working on the same piece of code at the same time. Effective pair programming will involve one person writing the code whilst the other(s) supply real time feedback on the code being written.</p>
<p>The benefits of pair programming are that feedback can be provided as the code is being written, suggesting improvements or identifying/fixing issues as they appear. Additionally, pair programming can be a good method to share knowledge and experience between individuals.</p>
<p>Pair programming may require more resource during the development stage but at the benefit in a reduction of resource needed in the review stage.</p>
<p>For pair programming to be effective there are guidelines that should be followed.</p>
<section id="rotate-roles-often" class="level3">
<h3 class="anchored" data-anchor-id="rotate-roles-often">Rotate roles often</h3>
<p>Everyone should take turns writing and reviewing which could mean switching roles every 15-30 minutes. This will ensure everyone gets experience from both sides of the process and will solidify the knowledge of the code being written.</p>
</section>
<section id="document-large-decisions" class="level3">
<h3 class="anchored" data-anchor-id="document-large-decisions">Document large decisions</h3>
<p>Pair programming allows real-time discussion and decision making but where big decisions in terms of approach have been made these should still be documented for anybody who may use the code in future.</p>
</section>
<section id="be-vocal-and-ask-questions" class="level3">
<h3 class="anchored" data-anchor-id="be-vocal-and-ask-questions">Be vocal and ask questions</h3>
<p>Pair programming is a collaborative process and should not just involve one person watching another code. The person writing the code should be talking through what they are writing, and the reviewer should be supplying feedback and asking for clarification if there are parts that they do not understand. Everybody who has been involved writing the code should have full understanding as if they had written it all themselves.</p>
</section>
</section>
<section id="how-do-we-define-success" class="level2">
<h2 class="anchored" data-anchor-id="how-do-we-define-success">How do we define success?</h2>
<ul>
<li>Reviewers should understand what they are expected to review ahead of time.</li>
<li>Developers should receive kind, constructive feedback that improves quality.</li>
<li>Reviews should be proportionate to the complexity and importance of the analysis.</li>
</ul>
<p><strong>Lookout for:</strong></p>
<ul>
<li>there is often more than one way to achieve a certain task: reviewers should look at whether what has been delivered aligns with best practice, rather than whether they would have done it that way!</li>
<li>avoid asking for review on very large pieces of work in one go - try breaking it up to make it easier for the reviewer!</li>
</ul>


</section>

</main> <!-- /main -->
<script>
  // 1. Handle 'i' tags - these are added dynamically by quarto. They can have 
  //    the 'aria-hidden' attribute set to 'true', but quarto does not make them
  //    unfocusable. This script handles this by setting the 'tabindex' to '-1'.
  
  // We observe the entire body for changes to the DOM, since the tags of
  // interest will be added dynamically and hence we cannot identify them before
  // they appear.
  const iTagTargetNode = document.body;

  // We want our observer to be informed when any tag is added within the body. 
  // For direct children it is 'childList', while for nested children it is
  // 'subtree'.
  const iTagConfig = { childList: true, subtree: true };

  // The observer callback receives an array of mutation records, over which we
  // want to iterate.
  const forEachMutationRecord = func => 
    records => 
      records.forEach(func);

  // Each mutation record holds a node list of added nodes, over which we also
  // want to iterate.
  const forEachAddedNode = func => 
    ({ addedNodes }) => 
      Array.from(addedNodes).forEach(func);
  
  // We want to mutate 'i' nodes that have 'aria-hidden' set to 'true'.
  const iTagMutate = node => {
    if (node.tagName === 'I' && node.getAttribute('aria-hidden')) {
      node.setAttribute('tabindex', '-1');
    }
  };

  // The mutation observer gets instantiated with a callback...
  const iTagObserver = new MutationObserver(
    forEachMutationRecord(
      forEachAddedNode(
      	 iTagMutate)
      )
    );

  // ... and registered with the body element to observe.
  iTagObserver.observe(iTagTargetNode, iTagConfig);
  
  
  // 2. Handle callouts having the 'aria-expanded' attribute - this is not a 
  //    valid attribute for callouts. Quarto will automatically add this 
  //    attribute whenever a callout eloement is created and will also add it if
  //    not already present whenever a callout is expanded or collapsed. This
  //    script handles this by:
  //      a. removing the attribute initially
  //      b. observing all callout elements and again removing it whenever it is
  //         added back by quarto
  
  // The callout elements already exist, so we can observe just relevant nodes.
  const calloutTargetNodes = document.querySelectorAll('.callout-header');
  
  // We only need to observe attribute mutations, since the callouts will be
  // permanently in the DOM.
  var calloutConfig = { attributes: true };
  
  // We want to remove 'aria-expanded'. Every mutation observed will be relevant,
  // so no checks are needed.
  const calloutMutate = mutation => mutation.target.removeAttribute("aria-expanded");
  
  // The mutation observer gets instantiated with a callback.
  const calloutObserver = new MutationObserver(
    forEachMutationRecord(
      calloutMutate
    )
  );
    
  // Initially remove attribute but also add observers to catch the attribute
  // being added back.
  calloutTargetNodes.
    forEach(function(node){
      node.removeAttribute("aria-expanded");
      calloutObserver.observe(node, calloutConfig);
    });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/nhsbsa-data-analytics\.github\.io\/nhsbsa-analytical-code-assurance-playbook\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<ul>
<li><a href="../../../accessibility.html">Accessibility</a></li>
<li><a href="mailto:analyticalassurance@nhsbsa.nhs.uk">Contact</a></li>
<li><a href="https://github.com/nhsbsa-data-analytics/nhsbsa-analytical-code-assurance-playbook">GitHub</a></li>
</ul>
<p><img src="../../../static/ogl3-logo.svg" height="17" width="41" focusable="false">&nbsp; All content is available under the <a class="nhsuk-footer__list-item-link" href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence v3.0</a>, except where otherwise stated.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © Crown Copyright
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>